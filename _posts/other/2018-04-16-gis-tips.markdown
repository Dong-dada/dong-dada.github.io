---
layout: post
title:  "gis 小知识点"
date:   2018-04-16 14:32:30 +0800
categories: other
---

* TOC
{:toc}

## GIS 中的墨卡托投影

墨卡托投影(Mercator Projection), 又称为 "等角正轴圆柱投影"，是一种描述地图坐标的方式。

其原理如下，假设地球被围在一个中空的圆柱里，其赤道与圆柱相接触，然后再假想地球中心有一盏灯，把球面上的图形投影到圆柱体上，再把圆柱体展开，这就是一幅标准纬线为零度 (即赤道) 的“墨卡托投影”绘制出的世界地图。

![]( {{site.url}}/asset/gis-mkt.jpg )

显然墨卡托投影在两极附近会趋于无限值，所以实际上的地图中纬度高于 85.05 度的地方会截取掉.

赤道半径是 6378137 米，周长则是 40075016.0019724, 所以墨卡托坐标里，地图 X 轴的取值范围是 [-20037508.3427892,20037508.3427892]. 通常情况下会把 Y 轴的取值范围也设定为 [-20037508.3427892,20037508.3427892], 这种情况下换算出来的最大纬度值就是我们之前说过的 85.05 度。

经过墨卡托投影后，球面地图被转换成了平面地图，地图上的所有经纬线都是垂直相交的。同时，任意两点之间的 **方位(direction)** 都是准确的：

![]( {{site.url}}/asset/gis-mkt-direction.jpg )

当然，虽然角度没问题，但越靠近极点，或者说纬度越高，纬度线的间隔也越大，并且面积变形也越大。

![]( {{site.url}}/asset/gis-mkt-area.png )

墨卡托投影还有一个好处是可以直接加减来计算距离，当然计算完了之后还需要进行一下转换，映射回球面。


## GIS 的标准

一开始听到这个还有点奇怪，我理解经纬度应该是有一套唯一的标准的。可实际上国家测绘局有规定，出于保密原因，国内的地图或定位工具，不能展示真实的经纬度信息，会有几百米的偏移。

标准的经纬度被称为 WGS-84, 国家测绘局的标准被称为 GCJ-02 (国测局的拼音首字母)。

因为是保密原因，显然 WGS-84 是可以转为 GCJ-02 的，但是反过来不行。

目前所知高德、腾讯、谷歌使用的是 GCJ-02, 百度自己搞了一套标准叫 BD-09。